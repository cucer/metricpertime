(this.webpackJsonpmetricpertime=this.webpackJsonpmetricpertime||[]).push([[0],{14:function(t,e,n){},15:function(t,e,n){},19:function(t,e,n){"use strict";n.r(e);var r=n(1),c=n.n(r),a=n(8),s=n.n(a),u=(n(14),n(15),n(2)),o=n.n(u),i=n(3),l=n(4),p=n(9),f=n(6),h=n.n(f),j=function(t,e){return h.a.groupBy(t,(function(t){return function(t,e){return p(t).format(e)}(t.created_time,e)}))},b=function(t){var e=j(t,"MM/YYYY"),n=[];return Object.keys(e).map((function(t){var r=e[t].reduce((function(t,e){return t+e.message.length}),0)/e[t].length;return n.push({key:t,result:r}),r})),n},d=n(0);var m=function(){var t=Object(r.useState)([]),e=Object(l.a)(t,2),n=e[0],c=e[1],a=Object(r.useState)([]),s=Object(l.a)(a,2),u=s[0],p=s[1],f=Object(r.useState)(),m=Object(l.a)(f,2),O=m[0],v=m[1],x=Object(r.useState)(!1),g=Object(l.a)(x,2),k=g[0],y=g[1],Y=function(){var t=Object(i.a)(o.a.mark((function t(e){var n,r,a,s;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=1,r=[],a=[];case 3:if(!(n<=10)){t.next=12;break}return t.t0=r,t.next=7,fetch("".concat("https://api.supermetrics.com/assignment/posts","?sl_token=").concat(e,"&page=").concat(n)).then((function(t){return t.json()})).then((function(t){return t.data.posts})).catch((function(t){y(!1),console.error(t)}));case 7:t.t1=t.sent,t.t0.push.call(t.t0,t.t1),n+=1,t.next=3;break;case 12:for(s=0;s<r.length;s++)r[s].map((function(t){return a.push(t)}));y(!1),c(a);case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();Object(r.useEffect)((function(){(function(){var t=Object(i.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return y(!0),t.next=3,fetch("https://api.supermetrics.com/assignment/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:"ju16a6m81mhid5ue1z3v2g0uh",email:"test@test.com",name:"John Doe"})}).then((function(t){return t.json()})).then((function(t){Y(t.data.sl_token)})).catch((function(t){y(!1),console.error(t)}));case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[]);var M=function(){var t=Object(i.a)(o.a.mark((function t(e){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.preventDefault(),p(b(n)),v(1);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),w=function(){var t=Object(i.a)(o.a.mark((function t(e){var n,r,c;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.preventDefault(),n=new Blob([JSON.stringify(u)],{type:"application/json"}),t.next=4,URL.createObjectURL(n);case 4:r=t.sent,(c=document.createElement("a")).href=r,c.download="data.json",document.body.appendChild(c),c.click(),document.body.removeChild(c);case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(d.jsx)(d.Fragment,{children:k?Object(d.jsx)("div",{children:Object(d.jsx)("h1",{children:"Loading Data. Please Wait!"})}):Object(d.jsxs)("div",{children:[Object(d.jsx)("h1",{children:"TASK"}),Object(d.jsx)("button",{onClick:M,className:"button",children:"avgPostLenPerMonth"}),Object(d.jsx)("button",{onClick:function(t){t.preventDefault(),p(function(t){var e=j(t,"MM/YYYY"),n=[];return Object.keys(e).map((function(t){var r=Math.max.apply(null,e[t].map((function(t){return t.message.length})));return n.push({key:t,result:r}),r})),n}(n)),v(2)},className:"button",children:"longestPostPerMonth"}),Object(d.jsx)("button",{onClick:function(t){t.preventDefault(),p(function(t){var e=j(t,"W/YYYY"),n=[];return Object.keys(e).map((function(t){var r=e[t].length;return n.push({key:t,result:r}),r})),n}(n)),v(3)},className:"button",children:"totalPostsByWeek"}),Object(d.jsx)("button",{onClick:function(t){t.preventDefault(),p(function(t){var e=j(t,"MM/YYYY"),n=[];return Object.keys(e).map((function(t){var r=h.a.groupBy(e[t],"from_id"),c=Object.keys(r).map((function(t){return r[t].length})),a=c.reduce((function(t,e){return t+e}),0)/c.length;return n.push({key:t,result:a}),a})),n}(n)),v(4)},className:"button",children:"avgPostsPerUserPerMonth"}),Object(d.jsx)("div",{className:"main",children:u.map((function(t,e){return Object(d.jsxs)("div",{children:[Object(d.jsxs)("span",{children:[1===O||2===O||4===O?"Month: ":"Week: ",t.key]})," - ",Object(d.jsxs)("span",{children:[1===O?"Avg: ":2===O?"Longest: ":3===O?"Total: ":"Avg: ",Math.round(100*t.result)/100]})]},e)}))}),Object(d.jsx)("div",{children:u&&u.length>0?Object(d.jsx)("button",{onClick:w,className:"button",children:"Download Metrics"}):null})]})})};var O=function(){return Object(d.jsx)("div",{className:"app",children:Object(d.jsx)(m,{})})};s.a.render(Object(d.jsx)(c.a.StrictMode,{children:Object(d.jsx)(O,{})}),document.getElementById("root"))}},[[19,1,2]]]);
//# sourceMappingURL=main.cc105e35.chunk.js.map